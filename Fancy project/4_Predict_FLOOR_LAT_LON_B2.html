<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="David Gibert Bosque" />


<title>Wi-Fi positioning system. FLOOR/LAT/LONG predictions on Building 2</title>

<script src="4_Predict_FLOOR_LAT_LON_B2_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="4_Predict_FLOOR_LAT_LON_B2_files/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="4_Predict_FLOOR_LAT_LON_B2_files/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/navigation-1.1/tabsets.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/navigation-1.1/codefolding.js"></script>
<link href="4_Predict_FLOOR_LAT_LON_B2_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="4_Predict_FLOOR_LAT_LON_B2_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="4_Predict_FLOOR_LAT_LON_B2_files/readthedown-0.1/readthedown.css" rel="stylesheet" />
<script src="4_Predict_FLOOR_LAT_LON_B2_files/readthedown-0.1/readthedown.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/plotly-binding-4.8.0/plotly.js"></script>
<script src="4_Predict_FLOOR_LAT_LON_B2_files/typedarray-0.1/typedarray.min.js"></script>
<link href="4_Predict_FLOOR_LAT_LON_B2_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="4_Predict_FLOOR_LAT_LON_B2_files/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="4_Predict_FLOOR_LAT_LON_B2_files/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="4_Predict_FLOOR_LAT_LON_B2_files/plotly-main-1.39.2/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>


</head>

<body>


<div id="content" data-toggle="wy-nav-shift">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->

<nav id="nav-top" role="navigation" aria-label="top navigation">
    <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
</nav>


<div id="header">
<h1 class="title">Wi-Fi positioning system. FLOOR/LAT/LONG predictions on Building 2</h1>
</div>


<div id="table-of-contents">
    <h2><a href="#content">Wi-Fi positioning system. FLOOR/LAT/LONG predictions on Building 2</a></h2>
    <div id="text-table-of-contents">
      <ul>
      <li><a href="#validation-training-datasets-for-building-2">VALIDATION &amp; TRAINING datasets for building 2</a></li>
      <li><a href="#non-detected-waps">Non detected WAP’s</a></li>
      <li><a href="#removing-non-detected-waps">Removing non detected WAP’s</a></li>
      <li><a href="#data-partition-by-floor-for-building-2">Data partition by Floor for Building 2</a></li>
      <li><a href="#floor-prediction">Floor prediction</a></li>
      <li><a href="#dummifying-floor">Dummifying Floor</a></li>
      <li><a href="#latitude-prediction">Latitude prediction</a></li>
      <li><a href="#longitude-prediction">Longitude prediction</a></li>
      <li><a href="#location-error-analysis">Location error analysis</a></li>
      </ul>
    </div>
</div>

<div id="main">
<p><strong>Bold text in English.</strong></p>
<p><em>Texto en cursiva en Español.</em></p>
<div id="validation-training-datasets-for-building-2" class="section level2">
<h2>VALIDATION &amp; TRAINING datasets for building 2</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.train.B0 =<span class="st"> </span>df.train <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(BUILDINGID <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)

df.val.B0 =<span class="st"> </span>df.val <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(BUILDINGID <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<p><strong>Because we have filtered the data by building, we have to do once again the pre-processing carried out previously. Removing undetected WAP’s and locate the intersection of attributes of both data sets is a must before starting the machine learning process.</strong></p>
<p><em>Debido a que hemos filtrado por edificio, tenemos que volver a hacer el pre-procesado de datos que hemos llevado a cabo anteriormente. Hay que quitar WAPs no detectados y localizar la interseccion de atributos de ambos datasets antes de empezar con el procedimiento de machine learning.</em></p>
<hr />
</div>
<div id="non-detected-waps" class="section level2">
<h2>Non detected WAP’s</h2>
<p><strong>Locating WAP’s that have not been detected by any device.</strong></p>
<p><em>Localizamos los WAPs que no han sido detectados por ningun dispositivo.</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">WAPnotDetected.val =<span class="st"> </span><span class="kw">as.character</span>()
WAPnotDetected.tr =<span class="st"> </span><span class="kw">as.character</span>()

<span class="co"># VALIDATION DF</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">which</span>(<span class="kw">names</span>(df.val.B0)<span class="op">==</span><span class="st">&quot;WAP508&quot;</span>)){
  <span class="cf">if</span> (<span class="kw">sum</span>(df.val.B0[i]) <span class="op">==</span><span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">nrow</span>(df.val.B0)){
    <span class="co">#cat(&quot;El&quot;, names(df.val[i]), &quot;no ha sido detectado por ningun dispositivo en el validation\n&quot;)</span>
    WAPnotDetected.val =<span class="st"> </span><span class="kw">c</span>(WAPnotDetected.val, <span class="kw">names</span>(df.val.B0[i]))
  }
}

<span class="co"># TRAINING DF</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">which</span>(<span class="kw">names</span>(df.train.B0)<span class="op">==</span><span class="st">&quot;WAP508&quot;</span>)){
  <span class="cf">if</span> (<span class="kw">sum</span>(df.train.B0[i]) <span class="op">==</span><span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">nrow</span>(df.train.B0)){
    <span class="co">#cat(&quot;El&quot;, names(df.train[i]), &quot;no ha sido detectado por ningun dispositivo en el training\n&quot;)</span>
    WAPnotDetected.tr =<span class="st"> </span><span class="kw">c</span>(WAPnotDetected.tr, <span class="kw">names</span>(df.train.B0[i]))
  }
}</code></pre></div>
</div>
<div id="removing-non-detected-waps" class="section level2">
<h2>Removing non detected WAP’s</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">WAPnotDetected.val</code></pre></div>
<pre><code>##   [1] &quot;WAP001&quot; &quot;WAP008&quot; &quot;WAP009&quot; &quot;WAP010&quot; &quot;WAP013&quot; &quot;WAP014&quot; &quot;WAP015&quot;
##   [8] &quot;WAP016&quot; &quot;WAP017&quot; &quot;WAP018&quot; &quot;WAP019&quot; &quot;WAP020&quot; &quot;WAP021&quot; &quot;WAP022&quot;
##  [15] &quot;WAP023&quot; &quot;WAP024&quot; &quot;WAP025&quot; &quot;WAP026&quot; &quot;WAP027&quot; &quot;WAP028&quot; &quot;WAP029&quot;
##  [22] &quot;WAP030&quot; &quot;WAP031&quot; &quot;WAP032&quot; &quot;WAP033&quot; &quot;WAP034&quot; &quot;WAP035&quot; &quot;WAP036&quot;
##  [29] &quot;WAP037&quot; &quot;WAP038&quot; &quot;WAP039&quot; &quot;WAP040&quot; &quot;WAP041&quot; &quot;WAP042&quot; &quot;WAP043&quot;
##  [36] &quot;WAP044&quot; &quot;WAP045&quot; &quot;WAP046&quot; &quot;WAP047&quot; &quot;WAP048&quot; &quot;WAP049&quot; &quot;WAP050&quot;
##  [43] &quot;WAP051&quot; &quot;WAP052&quot; &quot;WAP053&quot; &quot;WAP054&quot; &quot;WAP055&quot; &quot;WAP056&quot; &quot;WAP057&quot;
##  [50] &quot;WAP058&quot; &quot;WAP071&quot; &quot;WAP072&quot; &quot;WAP075&quot; &quot;WAP076&quot; &quot;WAP080&quot; &quot;WAP081&quot;
##  [57] &quot;WAP086&quot; &quot;WAP088&quot; &quot;WAP089&quot; &quot;WAP090&quot; &quot;WAP091&quot; &quot;WAP100&quot; &quot;WAP103&quot;
##  [64] &quot;WAP104&quot; &quot;WAP105&quot; &quot;WAP106&quot; &quot;WAP107&quot; &quot;WAP108&quot; &quot;WAP109&quot; &quot;WAP111&quot;
##  [71] &quot;WAP112&quot; &quot;WAP119&quot; &quot;WAP120&quot; &quot;WAP123&quot; &quot;WAP124&quot; &quot;WAP125&quot; &quot;WAP126&quot;
##  [78] &quot;WAP129&quot; &quot;WAP130&quot; &quot;WAP134&quot; &quot;WAP135&quot; &quot;WAP136&quot; &quot;WAP137&quot; &quot;WAP140&quot;
##  [85] &quot;WAP142&quot; &quot;WAP143&quot; &quot;WAP148&quot; &quot;WAP149&quot; &quot;WAP150&quot; &quot;WAP151&quot; &quot;WAP153&quot;
##  [92] &quot;WAP154&quot; &quot;WAP155&quot; &quot;WAP156&quot; &quot;WAP161&quot; &quot;WAP162&quot; &quot;WAP166&quot; &quot;WAP167&quot;
##  [99] &quot;WAP168&quot; &quot;WAP169&quot; &quot;WAP170&quot; &quot;WAP171&quot; &quot;WAP172&quot; &quot;WAP173&quot; &quot;WAP175&quot;
## [106] &quot;WAP178&quot; &quot;WAP179&quot; &quot;WAP182&quot; &quot;WAP183&quot; &quot;WAP184&quot; &quot;WAP185&quot; &quot;WAP188&quot;
## [113] &quot;WAP190&quot; &quot;WAP191&quot; &quot;WAP192&quot; &quot;WAP195&quot; &quot;WAP196&quot; &quot;WAP201&quot; &quot;WAP202&quot;
## [120] &quot;WAP207&quot; &quot;WAP216&quot; &quot;WAP222&quot; &quot;WAP223&quot; &quot;WAP224&quot; &quot;WAP225&quot; &quot;WAP253&quot;
## [127] &quot;WAP255&quot; &quot;WAP256&quot; &quot;WAP257&quot; &quot;WAP259&quot; &quot;WAP263&quot; &quot;WAP264&quot; &quot;WAP265&quot;
## [134] &quot;WAP266&quot; &quot;WAP267&quot; &quot;WAP268&quot; &quot;WAP269&quot; &quot;WAP270&quot; &quot;WAP271&quot; &quot;WAP272&quot;
## [141] &quot;WAP273&quot; &quot;WAP275&quot; &quot;WAP276&quot; &quot;WAP280&quot; &quot;WAP281&quot; &quot;WAP283&quot; &quot;WAP284&quot;
## [148] &quot;WAP285&quot; &quot;WAP287&quot; &quot;WAP288&quot; &quot;WAP289&quot; &quot;WAP290&quot; &quot;WAP292&quot; &quot;WAP294&quot;
## [155] &quot;WAP297&quot; &quot;WAP299&quot; &quot;WAP300&quot; &quot;WAP308&quot; &quot;WAP309&quot; &quot;WAP310&quot; &quot;WAP311&quot;
## [162] &quot;WAP312&quot; &quot;WAP317&quot; &quot;WAP318&quot; &quot;WAP319&quot; &quot;WAP320&quot; &quot;WAP321&quot; &quot;WAP322&quot;
## [169] &quot;WAP323&quot; &quot;WAP324&quot; &quot;WAP325&quot; &quot;WAP326&quot; &quot;WAP327&quot; &quot;WAP328&quot; &quot;WAP330&quot;
## [176] &quot;WAP331&quot; &quot;WAP336&quot; &quot;WAP337&quot; &quot;WAP341&quot; &quot;WAP343&quot; &quot;WAP345&quot; &quot;WAP346&quot;
## [183] &quot;WAP348&quot; &quot;WAP350&quot; &quot;WAP352&quot; &quot;WAP354&quot; &quot;WAP355&quot; &quot;WAP356&quot; &quot;WAP358&quot;
## [190] &quot;WAP359&quot; &quot;WAP364&quot; &quot;WAP426&quot; &quot;WAP434&quot; &quot;WAP443&quot; &quot;WAP452&quot; &quot;WAP475&quot;
## [197] &quot;WAP494&quot; &quot;WAP500&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># which(names(df.val.B0) %in% WAPnotDetected.val) #Estos son los indices de los atributos que no son detectados en el validation set, por lo que quitaremos estos atributos del validation set.</span>

df.val.B0 =<span class="st"> </span>df.val.B0[, <span class="op">-</span><span class="kw">which</span>(<span class="kw">names</span>(df.val.B0) <span class="op">%in%</span><span class="st"> </span>WAPnotDetected.val)]
df.train.B0 =<span class="st"> </span>df.train.B0[, <span class="op">-</span><span class="kw">which</span>(<span class="kw">names</span>(df.train.B0) <span class="op">%in%</span><span class="st"> </span>WAPnotDetected.tr)]</code></pre></div>
<hr />
<p><strong>Looking for the intersect of attributes appearing in both datasets. Attributes in VALIDATION that appear in TRAINING and vice versa. VALIDATION attributes that appear in TRAINING first.</strong></p>
<p><em>Buscamos la interseccion de los atributos que aparecen en ambos conjuntos de datos. Atributos en VALILDATION que aparecen en TRAINING y viceversa. Los atributos de VALIDATION que aparecen en TRAINING primero.</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tr.in.val.idxs =<span class="st"> </span><span class="kw">which</span>(<span class="kw">names</span>(df.train.B0) <span class="op">%in%</span><span class="st"> </span><span class="kw">names</span>(df.val.B0))
df.train.B0 =<span class="st"> </span>df.train.B0[, tr.in.val.idxs]

val.in.tr.idxs =<span class="st"> </span><span class="kw">which</span>(<span class="kw">names</span>(df.val.B0) <span class="op">%in%</span><span class="st"> </span><span class="kw">names</span>(df.train.B0))
df.val.B0 =<span class="st"> </span>df.val.B0[, val.in.tr.idxs]

<span class="kw">sum</span>(<span class="kw">names</span>(df.train.B0) <span class="op">==</span><span class="st"> </span><span class="kw">names</span>(df.val.B0))</code></pre></div>
<pre><code>## [1] 116</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># intersect(x = names(df.train), y = names(df.val))</span></code></pre></div>
<div id="formatting-categorical-data" class="section level4">
<h4>Formatting categorical data</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.train.B0<span class="op">$</span>FLOOR =<span class="st"> </span><span class="kw">factor</span>(df.train.B0<span class="op">$</span>FLOOR)
df.train.B0<span class="op">$</span>BUILDINGID =<span class="st"> </span><span class="kw">factor</span>(df.train.B0<span class="op">$</span>BUILDINGID)

real.values =<span class="st"> </span><span class="kw">data.frame</span>(df.val.B0[,<span class="kw">c</span>(<span class="dv">107</span><span class="op">:</span><span class="dv">109</span>)])

df.val.B0<span class="op">$</span>FLOOR =<span class="st"> </span><span class="kw">factor</span>(df.val.B0<span class="op">$</span>FLOOR)
df.val.B0<span class="op">$</span>BUILDINGID =<span class="st"> </span><span class="kw">factor</span>(df.val.B0<span class="op">$</span>BUILDINGID)</code></pre></div>
<hr />
</div>
</div>
<div id="data-partition-by-floor-for-building-2" class="section level2">
<h2>Data partition by Floor for Building 2</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">floor.vec =<span class="st"> </span><span class="kw">createDataPartition</span>(<span class="dt">y =</span> df.train.B0<span class="op">$</span>FLOOR, <span class="dt">times =</span> <span class="dv">5</span>, <span class="dt">p =</span> <span class="fl">0.1</span>)

<span class="co"># Training data</span>
floor.tr =<span class="st"> </span>df.train.B0[, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">last</span>(<span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;WAP&quot;</span>, <span class="kw">names</span>(df.train.B0))), <span class="kw">which</span>(<span class="kw">names</span>(df.train.B0) <span class="op">==</span><span class="st"> &quot;FLOOR&quot;</span>))]
floor.tr<span class="op">$</span>FLOOR =<span class="st"> </span><span class="kw">factor</span>(floor.tr<span class="op">$</span>FLOOR)

<span class="co">#Proporcion de datos en TRAIN y SAMPLE</span>
<span class="kw">prop.table</span>(<span class="kw">table</span>(df.train.B0<span class="op">$</span>FLOOR))</code></pre></div>
<pre><code>## 
##          0          1          2          3          4 
## 0.22075362 0.24962319 0.17797101 0.29043478 0.06121739</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">table</span>(floor.tr<span class="op">$</span>FLOOR))</code></pre></div>
<pre><code>## 
##          0          1          2          3          4 
## 0.22075362 0.24962319 0.17797101 0.29043478 0.06121739</code></pre>
</div>
<div id="floor-prediction" class="section level2">
<h2>Floor prediction</h2>
<div id="knn" class="section level3">
<h3>KNN</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knn.fit.floor =<span class="st"> </span><span class="kw">knn</span>(<span class="dt">train =</span> floor.tr[,<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>], <span class="dt">test =</span> df.val.B0[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>)], <span class="dt">cl =</span> floor.tr[,<span class="dv">107</span>], <span class="dt">k =</span> <span class="dv">5</span>)
<span class="kw">confusionMatrix</span>(<span class="dt">data =</span> <span class="kw">factor</span>(knn.fit.floor), <span class="dt">reference =</span> df.val.B0<span class="op">$</span>FLOOR)</code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction  0  1  2  3  4
##          0 22  8  2  0  2
##          1  2 99  4  0  1
##          2  0  4 31  1  0
##          3  0  0 17 38 12
##          4  0  0  0  1 24
## 
## Overall Statistics
##                                           
##                Accuracy : 0.7985          
##                  95% CI : (0.7454, 0.8449)
##     No Information Rate : 0.4142          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.7302          
##  Mcnemar&#39;s Test P-Value : NA              
## 
## Statistics by Class:
## 
##                      Class: 0 Class: 1 Class: 2 Class: 3 Class: 4
## Sensitivity           0.91667   0.8919   0.5741   0.9500  0.61538
## Specificity           0.95082   0.9554   0.9766   0.8728  0.99563
## Pos Pred Value        0.64706   0.9340   0.8611   0.5672  0.96000
## Neg Pred Value        0.99145   0.9259   0.9009   0.9900  0.93827
## Prevalence            0.08955   0.4142   0.2015   0.1493  0.14552
## Detection Rate        0.08209   0.3694   0.1157   0.1418  0.08955
## Detection Prevalence  0.12687   0.3955   0.1343   0.2500  0.09328
## Balanced Accuracy     0.93374   0.9237   0.7754   0.9114  0.80551</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Cuantos dispositivos se han clasificado mal por cada edificio.</span>
<span class="kw">abs</span>(<span class="kw">table</span>(knn.fit.floor) <span class="op">-</span><span class="st"> </span><span class="kw">table</span>(df.val.B0<span class="op">$</span>FLOOR))</code></pre></div>
<pre><code>## knn.fit.floor
##  0  1  2  3  4 
## 10  5 18 27 14</code></pre>
</div>
<div id="svm" class="section level3">
<h3>SVM</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">svm.fit.floor &lt;-<span class="st"> </span><span class="kw">svm</span>(<span class="dt">formula =</span> FLOOR <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> floor.tr)
svm.pred.floor &lt;-<span class="st"> </span><span class="kw">predict</span>(svm.fit.floor, <span class="dt">newdata =</span> df.val.B0[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>)])

<span class="kw">confusionMatrix</span>(<span class="dt">data =</span> svm.pred.floor, <span class="dt">reference =</span> df.val.B0<span class="op">$</span>FLOOR)</code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction  0  1  2  3  4
##          0 22  4  0  0  0
##          1  2 96  8  0  0
##          2  0  6 34  0  0
##          3  0  5 12 37 15
##          4  0  0  0  3 24
## 
## Overall Statistics
##                                           
##                Accuracy : 0.7948          
##                  95% CI : (0.7414, 0.8415)
##     No Information Rate : 0.4142          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.7243          
##  Mcnemar&#39;s Test P-Value : NA              
## 
## Statistics by Class:
## 
##                      Class: 0 Class: 1 Class: 2 Class: 3 Class: 4
## Sensitivity           0.91667   0.8649   0.6296   0.9250  0.61538
## Specificity           0.98361   0.9363   0.9720   0.8596  0.98690
## Pos Pred Value        0.84615   0.9057   0.8500   0.5362  0.88889
## Neg Pred Value        0.99174   0.9074   0.9123   0.9849  0.93776
## Prevalence            0.08955   0.4142   0.2015   0.1493  0.14552
## Detection Rate        0.08209   0.3582   0.1269   0.1381  0.08955
## Detection Prevalence  0.09701   0.3955   0.1493   0.2575  0.10075
## Balanced Accuracy     0.95014   0.9006   0.8008   0.8923  0.80114</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># #Cuantos dispositivos se han clasificado mal por cada edificio.</span>
<span class="kw">abs</span>(<span class="kw">table</span>(svm.pred.floor) <span class="op">-</span><span class="st"> </span><span class="kw">table</span>(df.val.B0<span class="op">$</span>FLOOR))</code></pre></div>
<pre><code>## svm.pred.floor
##  0  1  2  3  4 
##  2  5 14 29 12</code></pre>
</div>
<div id="random-forest" class="section level3">
<h3>Random Forest</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># bestmtry = tuneRF(x = floor.tr[,1:106], y = floor.tr$FLOOR, ntreeTry = 400, plot = T,stepFactor = 1.5, improve = 1e-5)</span>

rf.fit.floor =<span class="st"> </span><span class="kw">randomForest</span>(<span class="dt">x =</span> floor.tr[,<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>], <span class="dt">y =</span> floor.tr<span class="op">$</span>FLOOR, <span class="dt">ntree =</span> <span class="dv">400</span>, <span class="dt">mtry =</span> <span class="dv">15</span>)
rf.pred.floor =<span class="st"> </span><span class="kw">predict</span>(rf.fit.floor, df.val.B0)
<span class="kw">confusionMatrix</span>(<span class="dt">data =</span> <span class="kw">factor</span>(rf.pred.floor), <span class="dt">reference =</span> df.val.B0<span class="op">$</span>FLOOR)</code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction   0   1   2   3   4
##          0  22   0   0   0   0
##          1   2 106   3   0   1
##          2   0   4  33   0   0
##          3   0   1  18  39  10
##          4   0   0   0   1  28
## 
## Overall Statistics
##                                           
##                Accuracy : 0.8507          
##                  95% CI : (0.8024, 0.8912)
##     No Information Rate : 0.4142          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.7978          
##  Mcnemar&#39;s Test P-Value : NA              
## 
## Statistics by Class:
## 
##                      Class: 0 Class: 1 Class: 2 Class: 3 Class: 4
## Sensitivity           0.91667   0.9550   0.6111   0.9750   0.7179
## Specificity           1.00000   0.9618   0.9813   0.8728   0.9956
## Pos Pred Value        1.00000   0.9464   0.8919   0.5735   0.9655
## Neg Pred Value        0.99187   0.9679   0.9091   0.9950   0.9540
## Prevalence            0.08955   0.4142   0.2015   0.1493   0.1455
## Detection Rate        0.08209   0.3955   0.1231   0.1455   0.1045
## Detection Prevalence  0.08209   0.4179   0.1381   0.2537   0.1082
## Balanced Accuracy     0.95833   0.9584   0.7962   0.9239   0.8568</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Cuantos dispositivos se han clasificado mal por cada Planta</span>
<span class="kw">abs</span>(<span class="kw">table</span>(rf.pred.floor) <span class="op">-</span><span class="st"> </span><span class="kw">table</span>(df.val.B0<span class="op">$</span>FLOOR))</code></pre></div>
<pre><code>## rf.pred.floor
##  0  1  2  3  4 
##  2  1 17 28 10</code></pre>
<p><strong>The method that produces a prediction with less error is Random Forest.</strong></p>
<p><em>El metodo que produce una prediccion con menor error es Random Forest.</em></p>
<hr />
<div id="replacing-actual-floor-values-for-predicted-ones" class="section level4">
<h4>Replacing actual Floor values for predicted ones</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.val.B0<span class="op">$</span>FLOOR =<span class="st"> </span>rf.pred.floor
<span class="kw">str</span>(df.val.B0<span class="op">$</span>FLOOR)</code></pre></div>
<pre><code>##  Factor w/ 5 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,..: 5 5 5 3 4 4 4 1 4 1 ...</code></pre>
<hr />
<p><strong>After making different combinations, the lowest prediction error is achieved by first predicting Latitude with dummified Floor and Longitude later, using the information provided by Latitude.</strong></p>
<p><em>Despues de realizar diferentes combinaciones, el error de prediccion mas bajo se consigue prediciendo primero Latitude con la variable ‘Dummy’ de Floor y Longitude despues, usando la informacion que proporciona la variable Latitude.</em></p>
</div>
</div>
</div>
<div id="dummifying-floor" class="section level2">
<h2>Dummifying Floor</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pacman<span class="op">::</span><span class="kw">p_load</span>(fastDummies)

df.val.B0.dumm =<span class="st"> </span><span class="kw">dummy_cols</span>(<span class="dt">.data =</span> df.val.B0, <span class="dt">select_columns =</span> <span class="st">&quot;FLOOR&quot;</span>, <span class="dt">remove_first_dummy =</span> <span class="ot">FALSE</span>)
df.val.B0.dumm =<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> df.val.B0.dumm, <span class="op">-</span>FLOOR)

df.train.B0.dumm =<span class="st"> </span><span class="kw">dummy_cols</span>(<span class="dt">.data =</span> df.train.B0, <span class="dt">select_columns =</span> <span class="st">&quot;FLOOR&quot;</span>, <span class="dt">remove_first_dummy =</span> <span class="ot">FALSE</span>)
df.train.B0.dumm =<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> df.train.B0.dumm, <span class="op">-</span>FLOOR)</code></pre></div>
</div>
<div id="latitude-prediction" class="section level2">
<h2>Latitude prediction</h2>
<div id="svm-1" class="section level3">
<h3>SVM</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">svm.fit.lat &lt;-<span class="st"> </span><span class="kw">svm</span>(<span class="dt">formula =</span> LATITUDE <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])
svm.pred.lat &lt;-<span class="st"> </span><span class="kw">predict</span>(svm.fit.lat, <span class="dt">newdata =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> svm.pred.lat)</code></pre></div>
<pre><code>## [1] 13.12265</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> svm.pred.lat)</code></pre></div>
<pre><code>## [1] 9.148001</code></pre>
</div>
<div id="linear-model" class="section level3">
<h3>Linear Model</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm.fit.lat &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">formula =</span> LATITUDE <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])
lm.pred.lat &lt;-<span class="st"> </span><span class="kw">predict</span>(lm.fit.lat, <span class="dt">newdata =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> lm.pred.lat)</code></pre></div>
<pre><code>## [1] 16.74235</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> lm.pred.lat)</code></pre></div>
<pre><code>## [1] 12.74478</code></pre>
</div>
<div id="random-forest-1" class="section level3">
<h3>Random Forest</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># bestmtry = tuneRF(x = df.train.B0.dumm[,c(1:106, 116:120)], y = df.train.B0.dumm$LATITUDE, ntreeTry = 400, plot = T,stepFactor = 1.5, improve = 1e-5)</span>

rf.fit.lat =<span class="st"> </span><span class="kw">randomForest</span>(LATITUDE <span class="op">~</span>., df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)], <span class="dt">ntree =</span> <span class="dv">150</span>, <span class="dt">mtry =</span> <span class="dv">37</span>)

rf.pred.lat =<span class="st"> </span><span class="kw">predict</span>(rf.fit.lat, df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> rf.pred.lat)</code></pre></div>
<pre><code>## [1] 11.39957</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> rf.pred.lat)</code></pre></div>
<pre><code>## [1] 7.679363</code></pre>
</div>
<div id="knn-1" class="section level3">
<h3>KNN</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pacman<span class="op">::</span><span class="kw">p_load</span>(FNN)

knn.fit.lat =<span class="st"> </span><span class="kw">knn.reg</span>(<span class="dt">train =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)], <span class="dt">test =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)],
                       <span class="dt">y =</span> df.train.B0.dumm[, <span class="dv">108</span>], <span class="dt">k =</span> <span class="dv">5</span>,
                       <span class="dt">algorithm =</span> <span class="kw">c</span>(<span class="st">&quot;kd_tree&quot;</span>, <span class="st">&quot;cover_tree&quot;</span>, <span class="st">&quot;brute&quot;</span>))

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> knn.fit.lat<span class="op">$</span>pred)</code></pre></div>
<pre><code>## [1] 13.94537</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="dt">predicted =</span> knn.fit.lat<span class="op">$</span>pred)</code></pre></div>
<pre><code>## [1] 9.032983</code></pre>
<p><strong>The method that produces a prediction with less error is Random Forest.</strong></p>
<p><em>El metodo que produce una prediccion con menor error es Random Forest.</em></p>
<hr />
<div id="replacing-actual-latitude-values-for-predicted-ones" class="section level4">
<h4>Replacing actual Latitude values for predicted ones</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.val.B0.dumm<span class="op">$</span>LATITUDE =<span class="st"> </span>rf.pred.lat</code></pre></div>
<hr />
</div>
</div>
</div>
<div id="longitude-prediction" class="section level2">
<h2>Longitude prediction</h2>
<div id="svm-2" class="section level3">
<h3>SVM</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">svm.fit.long &lt;-<span class="st"> </span><span class="kw">svm</span>(<span class="dt">formula =</span> LONGITUDE <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">107</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])
svm.pred.long &lt;-<span class="st"> </span><span class="kw">predict</span>(svm.fit.long, <span class="dt">newdata =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> svm.pred.long)</code></pre></div>
<pre><code>## [1] 16.2353</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> svm.pred.long)</code></pre></div>
<pre><code>## [1] 11.57899</code></pre>
</div>
<div id="linear-model-1" class="section level3">
<h3>Linear Model</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm.fit.long &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">formula =</span> LONGITUDE <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">107</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])
lm.pred.long &lt;-<span class="st"> </span><span class="kw">predict</span>(lm.fit.long, <span class="dt">newdata =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> lm.pred.long)</code></pre></div>
<pre><code>## [1] 18.60664</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> lm.pred.long)</code></pre></div>
<pre><code>## [1] 14.38617</code></pre>
</div>
<div id="random-forest-2" class="section level3">
<h3>Random Forest</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># bestmtry = tuneRF(x = df.train.B0.dumm[,c(1:106, 108, 116:120)], y = df.train.B0.dumm$LONGITUDE, ntreeTry = 150, plot = T,stepFactor = 1.5, improve = 1e-5)</span>

rf.fit.long =<span class="st"> </span><span class="kw">randomForest</span>(LONGITUDE <span class="op">~</span>., df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">107</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)], <span class="dt">ntree =</span> <span class="dv">150</span>, <span class="dt">mtry =</span> <span class="dv">82</span>)

rf.pred.long =<span class="st"> </span><span class="kw">predict</span>(rf.fit.long, df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)])

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> rf.pred.long)</code></pre></div>
<pre><code>## [1] 17.27185</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> rf.pred.long)</code></pre></div>
<pre><code>## [1] 11.29433</code></pre>
</div>
<div id="knn-2" class="section level3">
<h3>KNN</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pacman<span class="op">::</span><span class="kw">p_load</span>(FNN)

knn.fit.long =<span class="st"> </span><span class="kw">knn.reg</span>(<span class="dt">train =</span> df.train.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)], <span class="dt">test =</span> df.val.B0.dumm[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">106</span>, <span class="dv">108</span>, <span class="dv">116</span><span class="op">:</span><span class="dv">120</span>)],
                       <span class="dt">y =</span> df.train.B0.dumm[,<span class="dv">107</span>], <span class="dt">k =</span> <span class="dv">5</span>,
                       <span class="dt">algorithm =</span> <span class="kw">c</span>(<span class="st">&quot;kd_tree&quot;</span>, <span class="st">&quot;cover_tree&quot;</span>, <span class="st">&quot;brute&quot;</span>))

<span class="kw">rmse</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> knn.fit.long<span class="op">$</span>pred)</code></pre></div>
<pre><code>## [1] 16.06979</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mae</span>(<span class="dt">actual =</span> df.val.B0.dumm<span class="op">$</span>LONGITUDE, <span class="dt">predicted =</span> knn.fit.long<span class="op">$</span>pred)</code></pre></div>
<pre><code>## [1] 10.72142</code></pre>
<p><strong>KNN is the best predictive method in this building, in terms of error rate and computational level. It performs better and much faster than Random Forest.</strong></p>
<p><em>KNN es el mejor metodo predictivo en este edificio, en terminos de tasa de error y nivel computacional. Su desempeño es mejor y mucho mas rapido que el de Random Forest.</em></p>
<hr />
<div id="replacing-actual-longitude-values-for-predicted-ones" class="section level4">
<h4>Replacing actual Longitude values for predicted ones</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.val.B0.dumm<span class="op">$</span>LONGITUDE =<span class="st"> </span>knn.fit.long<span class="op">$</span>pred</code></pre></div>
<hr />
</div>
</div>
</div>
<div id="location-error-analysis" class="section level2">
<h2>Location error analysis</h2>
<div id="d-plot-real-predicted-values" class="section level3">
<h3>3D Plot (Real &amp; Predicted values)</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pred.values =<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">cbind</span>(df.val.B0.dumm<span class="op">$</span>LONGITUDE, df.val.B0.dumm<span class="op">$</span>LATITUDE, <span class="kw">as.factor</span>(df.val.B0<span class="op">$</span>FLOOR)))
<span class="kw">colnames</span>(pred.values) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;pred_LONGITUDE&quot;</span>, <span class="st">&quot;pred_LATITUDE&quot;</span>, <span class="st">&quot;pred_FLOOR&quot;</span>)
<span class="kw">colnames</span>(real.values) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;real_LONGITUDE&quot;</span>, <span class="st">&quot;real_LATITUDE&quot;</span>, <span class="st">&quot;real_FLOOR&quot;</span>)

pred.values<span class="op">$</span>pred_FLOOR =<span class="st"> </span><span class="kw">factor</span>(pred.values<span class="op">$</span>pred_FLOOR)
<span class="co"># pred.values$TYPE = &quot;Predicted&quot;</span>

<span class="kw">levels</span>(pred.values<span class="op">$</span>pred_FLOOR) =<span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">4</span>

<span class="kw">str</span>(df.val.B0<span class="op">$</span>FLOOR)</code></pre></div>
<pre><code>##  Factor w/ 5 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,..: 5 5 5 3 4 4 4 1 4 1 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(pred.values<span class="op">$</span>pred_FLOOR)</code></pre></div>
<pre><code>##  Factor w/ 5 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,..: 5 5 5 3 4 4 4 1 4 1 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">real.pred.values =<span class="st"> </span><span class="kw">cbind</span>(real.values[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], pred.values)
<span class="co"># real.pred.values$TYPE = factor(real.pred.values$TYPE)</span>

<span class="kw">str</span>(real.pred.values)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    268 obs. of  6 variables:
##  $ real_LONGITUDE: num  -7384 -7374 -7366 -7339 -7379 ...
##  $ real_LATITUDE : num  4864840 4864847 4864843 4864825 4864849 ...
##  $ real_FLOOR    : Factor w/ 5 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,..: 5 5 5 3 4 4 3 1 3 1 ...
##  $ pred_LONGITUDE: num  -7382 -7375 -7365 -7322 -7368 ...
##  $ pred_LATITUDE : num  4864826 4864839 4864839 4864822 4864844 ...
##  $ pred_FLOOR    : Factor w/ 5 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,..: 5 5 5 3 4 4 4 1 4 1 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">real.pred.values<span class="op">$</span>long_diff =<span class="st"> </span><span class="kw">abs</span>(<span class="kw">abs</span>(real.pred.values<span class="op">$</span>real_LONGITUDE) <span class="op">-</span><span class="st"> </span><span class="kw">abs</span>(real.pred.values<span class="op">$</span>pred_LONGITUDE))
real.pred.values<span class="op">$</span>lat_diff =<span class="st"> </span><span class="kw">abs</span>(<span class="kw">abs</span>(real.pred.values<span class="op">$</span>real_LATITUDE) <span class="op">-</span><span class="st"> </span><span class="kw">abs</span>(real.pred.values<span class="op">$</span>pred_LATITUDE))

<span class="kw">plot_ly</span>(real.pred.values) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_markers</span>(<span class="dt">x =</span> <span class="op">~</span>real_LONGITUDE, <span class="dt">y =</span> <span class="op">~</span>real_LATITUDE, <span class="dt">z =</span> <span class="op">~</span>real_FLOOR,
              <span class="dt">mode =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">marker =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>), <span class="dt">name =</span> <span class="st">&quot;Real&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_markers</span>(<span class="dt">x =</span> <span class="op">~</span>pred_LONGITUDE, <span class="dt">y =</span> <span class="op">~</span>pred_LATITUDE, <span class="dt">z =</span> <span class="op">~</span>pred_FLOOR,
              <span class="dt">mode =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">marker =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;chartreuse&quot;</span>), <span class="dt">name =</span> <span class="st">&quot;Predicted&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">layout</span>(<span class="dt">title =</span> <span class="st">&quot;Real vs Predicted values&quot;</span>)</code></pre></div>
<div id="htmlwidget-f20a6e3108db2c8cede1" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f20a6e3108db2c8cede1">{"x":{"visdat":{"30a04a40984":["function () ","plotlyVisDat"]},"cur_data":"30a04a40984","attrs":{"30a04a40984":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":3,"color":"black"},"name":"Real","inherit":true},"30a04a40984.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":3,"color":"chartreuse"},"name":"Predicted","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Real vs Predicted values","scene":{"xaxis":{"title":"real_LONGITUDE"},"yaxis":{"title":"real_LATITUDE"},"zaxis":{"title":"real_FLOOR"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[-7383.86722098221,-7374.30207994063,-7365.82488255054,-7338.80721041877,-7379.35168267689,-7340.55877713109,-7357.53125290646,-7345.08516990931,-7344.1826568295,-7372.66404147576,-7377.06790471563,-7331.10009999946,-7385.87153571578,-7393.43514992173,-7414.45028333428,-7402.40428437066,-7358.37957947347,-7410.58470585586,-7394.22637014611,-7385.47849421082,-7397.03390700875,-7366.08527867614,-7336.64869167924,-7323.6579032276,-7313.20140915671,-7315.68121593668,-7312.7029922491,-7317.3946996878,-7325.19074434113,-7338.20283280169,-7372.8309040429,-7380.51379999891,-7383.34269893576,-7386.60597406741,-7383.32881726684,-7339.08837695288,-7404.54214198207,-7405.19453482856,-7385.40080000088,-7399.23162387304,-7381.64954166642,-7394.51967266787,-7383.69939216593,-7320.66059014783,-7374.36680715472,-7338.45189054213,-7364.49281757354,-7352.42452345564,-7319.5494449006,-7340.51910340106,-7337.11852525043,-7358.26988500164,-7339.54734128799,-7374.25408749888,-7331.78854663727,-7384.38459999859,-7381.95992024131,-7383.03510326463,-7371.89846000075,-7375.08653720093,-7374.50419999896,-7372.60977802763,-7367.74953333506,-7366.63450000063,-7399.78489395602,-7341.34734048162,-7360.65616000146,-7360.69503333482,-7354.69188933823,-7353.77175714235,-7342.70908956452,-7351.04628647427,-7331.1790000014,-7343.20669538763,-7357.34156637367,-7345.59141627266,-7389.45451713669,-7346.29787561199,-7338.48883333306,-7356.4778156069,-7309.32400981224,-7338.48883333306,-7384.38459999859,-7331.1790000014,-7331.1790000014,-7374.28515853646,-7359.34903931037,-7324.37475017622,-7325.68829934929,-7316.34810369484,-7382.05637608658,-7358.51682951587,-7381.32596538217,-7375.87750000134,-7377.02384008531,-7315.08054420448,-7345.56579518395,-7377.08764306023,-7310.42416949862,-7375.87750000134,-7309.21939999983,-7329.73036139741,-7390.58125026217,-7358.67326975077,-7385.19852090688,-7309.21939999983,-7309.21939999983,-7345.22848197137,-7384.96407256605,-7309.21939999983,-7391.01192857059,-7322.9538250418,-7311.43873486615,-7309.21939999983,-7393.85430226658,-7315.69891621231,-7341.2475684264,-7401.58428787706,-7318.45618655275,-7394.41554761614,-7309.21939999983,-7317.55049872872,-7321.58209642576,-7408.19255168627,-7299.78651673087,-7382.11742566469,-7370.30806225658,-7408.72009965011,-7378.03232129403,-7313.54988666649,-7312.0248678631,-7331.90009735185,-7404.38435684547,-7312.34913391462,-7313.08025495703,-7367.66560408993,-7323.25142794562,-7353.24144576677,-7342.97239999846,-7314.96829491392,-7315.29199999943,-7377.5290504833,-7337.99990672274,-7350.00964409864,-7314.00135458435,-7316.47208215677,-7313.80849219182,-7323.82668382433,-7365.17068046274,-7360.23523672684,-7396.54948259319,-7329.03079999983,-7311.47568754637,-7374.88873856887,-7316.67252264604,-7409.61199999973,-7345.31695461395,-7385.79996494339,-7327.95739752554,-7358.74560484464,-7315.55288461538,-7315.55975000001,-7386.75259999931,-7405.88199999928,-7325.69619662961,-7384.2335057719,-7404.47798448864,-7358.45045130136,-7385.40080000088,-7397.56092565415,-7339.123771428,-7342.59654939189,-7323.17595005206,-7339.16800315573,-7405.37253955039,-7346.33058926197,-7413.94084298634,-7327.34684600569,-7360.75405714395,-7382.33036618358,-7373.24268718541,-7358.77470000014,-7357.39150356952,-7376.80353022577,-7374.30803333223,-7317.29441023908,-7342.73677075563,-7371.4802037991,-7366.09602796581,-7394.60105324865,-7325.81557119509,-7386.22197229571,-7407.24843979018,-7327.40499557913,-7315.47049999982,-7406.62981814902,-7352.23516597277,-7406.0984218833,-7309.21939999983,-7315.28355622832,-7396.89062958991,-7338.79334000051,-7398.58762857212,-7324.7588989281,-7332.13425947398,-7406.33799949308,-7311.87276800498,-7314.61169999838,-7364.01568999961,-7407.38420250549,-7318.78358590911,-7345.2493645111,-7317.22789999843,-7322.24159999937,-7340.46657897711,-7333.79575536126,-7318.44024542411,-7335.90619999915,-7345.80389999971,-7327.01093172325,-7405.95699163847,-7351.98112529889,-7365.07681981049,-7315.54189999998,-7310.5120571103,-7351.53952233526,-7309.62392746803,-7354.8635830329,-7377.91314344932,-7310.29917900007,-7312.91429588674,-7398.39690599182,-7309.21939999983,-7309.21939999983,-7312.58323821798,-7309.21939999983,-7303.79429582134,-7316.90971591283,-7389.22691696027,-7352.06417808977,-7337.7754084671,-7324.14426315784,-7316.90165419431,-7346.61134595921,-7337.79011914986,-7345.63982623843,-7345.67172318602,-7345.87224664235,-7347.22066904423,-7348.60744380579,-7355.99039627859,-7362.99545363904,-7370.42721999884,-7376.93162641191,-7405.10240000114,-7406.17866599016,-7404.89764228161,-7411.0939933933,-7407.62730273731,-7390.05449509312,-7381.84248269323,-7376.41961595348,-7358.48536707178,-7359.50280155203,-7330.88152385149,-7316.94520982319,-7317.34423107777,-7313.73111977801],"y":[4864839.74030718,4864846.5337223,4864842.82925374,4864825.46686278,4864849.20148919,4864758.91885997,4864765.84751079,4864830.81747028,4864754.24874242,4864844.41964526,4864849.18512059,4864766.9221,4864839.97669286,4864836.73207044,4864788.4646,4864806.40366393,4864836.87899513,4864793.27600547,4864821.05636429,4864837.68983991,4864828.82134055,4864842.56860013,4864827.08814198,4864819.07894952,4864791.46358168,4864801.95053338,4864807.61082373,4864813.4506905,4864818.0849553,4864826.27130787,4864844.76070332,4864849.63409999,4864841.28229121,4864834.27704985,4864844.7724941,4864826.34605056,4864808.42804322,4864801.23461032,4864779.7293,4864790.88857294,4864847.58660834,4864787.69922358,4864782.21645804,4864824.08600475,4864773.53322204,4864826.98241862,4864770.03574148,4864764.22363806,4864815.5105007,4864758.32082255,4864763.75445514,4864836.36492727,4864762.21159769,4864844.566875,4864767.59017012,4864842.657,4864844.97940046,4864845.91152185,4864849.81814,4864855.11192198,4864844.70561818,4864843.30257427,4864840.95806666,4864840.33950001,4864787.08464092,4864759.15192689,4864837.0226,4864837.04416667,4864833.93390681,4864833.20322857,4864755.79171302,4864833.29081348,4864820.6688,4864756.72388047,4864767.2139202,4864830.51192838,4864835.60361653,4864827.83675244,4864824.72436667,4864765.52864842,4864815.03972895,4864824.72436667,4864842.657,4864820.6688,4864820.6688,4864845.82386293,4864766.60011362,4864816.7505322,4864817.85897153,4864800.41937634,4864845.80459397,4864836.8067196,4864845.32533384,4864774.1029,4864852.3275418,4864813.3721025,4864829.77301829,4864851.72627339,4864807.91390632,4864774.1029,4864812.2454,4864820.94415041,4864826.27949956,4864838.88538284,4864781.10850575,4864812.2454,4864812.2454,4864829.62455846,4864781.57726142,4864812.2454,4864836.71427143,4864818.99955844,4864809.67020324,4864812.2454,4864787.52158289,4864802.61094401,4864755.52699914,4864790.95096072,4864800.60817568,4864819.78926687,4864812.2454,4864794.97420173,4864795.51402341,4864796.19354231,4864818.21735282,4864846.09787826,4864774.24034137,4864795.06533031,4864849.54595234,4864799.51407333,4864806.47371307,4864768.16935848,4864808.0451278,4864805.77327572,4864807.35395044,4864841.80972032,4864817.45353131,4864834.48472735,4864756.1903,4864799.55377493,4864801.2998,4864848.80872252,4864825.93929428,4864757.02222012,4864798.13277306,4864800.75959904,4864797.15897338,4864818.15330008,4864841.70826003,4864837.77927418,4864813.55926319,4864826.0354,4864813.082901,4864844.465777,4864800.54104068,4864797.1854,4864829.31808009,4864837.27407372,4864782.540322,4864840.83159933,4864800.82947692,4864800.8171,4864838.3884,4864808.6372,4864782.34507287,4864775.33266591,4864791.88475664,4864768.03491392,4864779.72940001,4864783.09017798,4864756.6553,4864755.98961252,4864818.49438135,4864757.78728498,4864794.00299906,4864749.64588937,4864786.44939582,4864782.85937946,4864837.07691429,4864845.43648183,4864776.56055188,4864764.95734,4864763.57069022,4864851.69239758,4864844.5968,4864794.85799963,4864754.49906421,4864771.22972935,4864845.77786592,4864819.76056437,4864781.86904137,4864777.33445893,4864799.41561985,4864783.04320289,4864800.978,4864801.05209064,4864833.04750007,4864801.1732583,4864812.2454,4864794.07031917,4864822.24297108,4864824.8933,4864787.04535715,4864817.93290819,4864822.03264036,4864800.31421419,4864804.96182384,4864800.71239999,4864767.86496,4864789.02514714,4864814.57736108,4864830.85694238,4864812.929,4864822.2687,4864758.1468522,4864821.61684779,4864814.04449585,4864829.8497,4864828.7827,4864784.33352455,4864801.57734848,4864843.49334408,4864840.58529262,4864800.84928,4864812.517018,4864829.81907831,4864812.3262558,4864833.01848484,4864849.99195018,4864812.09865274,4864807.70786618,4864788.50226124,4864812.2454,4864812.2454,4864797.23687493,4864812.2454,4864812.44148691,4864814.10899933,4864834.96048846,4864835.48060063,4864826.50735658,4864818.24437466,4864815.33363723,4864756.2509207,4864763.04415412,4864756.39679538,4864750.43672313,4864749.66572636,4864748.01548531,4864757.27681936,4864761.50566503,4864764.87255048,4864768.2623,4864773.19664303,4864786.6725,4864788.49169098,4864789.51983872,4864792.77166128,4864799.43961044,4864835.77762442,4864843.70751763,4864852.75169848,4864840.33160573,4864837.17241508,4864823.04294627,4864814.8214286,4864795.53005781,4864792.06341088],"z":["4","4","4","2","3","3","2","0","2","0","0","2","0","1","4","1","1","4","4","1","1","3","3","3","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","1","2","1","1","3","1","1","3","1","3","2","1","1","3","4","1","1","1","1","1","3","2","1","1","4","1","2","1","4","2","2","1","1","1","1","2","4","1","1","1","1","1","2","1","1","4","1","1","4","2","1","1","1","4","1","2","1","1","1","4","2","1","1","4","2","1","1","4","1","1","2","1","4","0","4","2","1","1","4","2","1","2","0","2","2","2","1","4","2","1","2","2","2","2","0","1","1","2","2","4","1","3","1","2","2","2","0","3","2","2","2","1","3","2","1","3","1","1","3","2","1","4","2","2","2","4","2","2","0","2","2","3","4","2","0","1","2","2","4","1","1","2","2","4","1","0","2","4","4","2","1","4","1","4","1","0","4","1","1","1","1","4","0","0","1","4","1","0","0","0","1","0","1","0","0","1","1","0","0","1","1","0","1","0","1","1","1","1","1","1","1","1","1","1","4","4","4","4","4","4","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"black","size":3,"line":{"color":"rgba(31,119,180,1)"}},"name":"Real","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"x":[-7382.45447999984,-7374.9241249755,-7364.61762000024,-7321.93341999948,-7367.65755999982,-7354.3438000001,-7370.6826000005,-7329.40370000154,-7356.7320600003,-7367.78727999926,-7372.40137999952,-7349.72151999995,-7386.18781318292,-7345.20844616145,-7412.07821999937,-7366.78427999914,-7350.74338732809,-7411.94318000078,-7403.87939999923,-7367.21551999971,-7383.23202000037,-7368.91640000045,-7334.28421999961,-7318.21026000008,-7308.53124500811,-7311.30691202804,-7313.59755999967,-7314.58076239377,-7316.20788956061,-7333.35295420066,-7372.81640091389,-7375.60156000033,-7387.18224000111,-7379.13312000036,-7387.7532600008,-7364.49909593463,-7407.54045524225,-7357.21291999891,-7357.59821999967,-7366.1128200002,-7369.75860000104,-7379.63584000021,-7346.18259999901,-7360.81516739205,-7368.11508376598,-7345.42330000177,-7346.69842024446,-7347.02534441128,-7346.18604024425,-7349.70820000023,-7349.4400433518,-7330.76124000028,-7341.59864105955,-7360.40277999938,-7353.55780403242,-7383.40562000126,-7382.77210000083,-7378.34157999977,-7378.43981999978,-7373.57298182845,-7372.90291999951,-7376.14958491474,-7373.63068000004,-7372.96975999996,-7398.35066,-7353.36609999984,-7363.90931999981,-7351.22767999992,-7328.05707186684,-7350.40314000025,-7352.92519137263,-7350.95581187159,-7351.23060000017,-7356.41938000023,-7380.43802497685,-7348.90736000016,-7390.35906000063,-7345.2340200007,-7340.6695600003,-7349.71762000024,-7351.23060000017,-7346.30322249755,-7385.67620000094,-7331.29399999976,-7343.27577999979,-7374.05958000049,-7351.68899999931,-7326.97391236797,-7333.02655078918,-7335.30340000018,-7375.10930333138,-7369.66344000101,-7408.94172331914,-7354.66408000067,-7377.07650999352,-7319.79763999954,-7350.52804585174,-7380.31699999943,-7313.62124239281,-7373.62776000053,-7316.62625349089,-7331.05127999932,-7390.71188000143,-7380.31699999943,-7356.87016000003,-7314.63199337274,-7314.29871576652,-7366.09589999914,-7383.15027012154,-7307.55240838379,-7383.65118807778,-7340.35970000029,-7324.75683999956,-7311.27054155767,-7388.48628549799,-7314.28841999993,-7353.42108304873,-7391.15917999893,-7313.4893599987,-7369.27203999981,-7305.57751075849,-7320.94665445313,-7327.37977999896,-7406.34131999984,-7309.29597034678,-7368.57759999931,-7342.94944000021,-7385.51030000001,-7373.96358000115,-7313.75493778363,-7313.85739168003,-7407.99807363302,-7362.37053999975,-7315.50692000017,-7313.51756557822,-7375.39241999984,-7319.72839999944,-7369.14459999949,-7348.36719109639,-7316.40557999983,-7320.28918469995,-7373.95558000058,-7371.35763999969,-7369.74162772074,-7316.30538764372,-7327.37977999896,-7314.38517992944,-7328.43965337276,-7372.82771412134,-7356.19233999997,-7356.17496000007,-7326.57396000028,-7316.65828000009,-7371.06622000039,-7336.46213999987,-7378.08614000007,-7338.44226000085,-7375.41737999991,-7335.10003474727,-7347.33615999967,-7309.35127794817,-7317.52330000028,-7361.18987999856,-7355.80411999896,-7340.04440000057,-7397.5720415391,-7386.20201999918,-7345.95684339032,-7396.24568307772,-7380.49632549435,-7351.85688000023,-7340.96901905537,-7325.8555399999,-7342.86907999963,-7360.28302953839,-7352.93215686083,-7393.98808428422,-7322.3850103721,-7363.4107599996,-7379.4397318013,-7341.82115999982,-7352.33655999973,-7354.99137190282,-7375.59110000059,-7368.33354091346,-7322.3850103721,-7352.1050999999,-7364.63844641447,-7380.90230000094,-7352.66476894543,-7348.26110359579,-7393.84482000023,-7393.38258274496,-7315.10064828694,-7316.31460000128,-7411.31535999998,-7350.10656000003,-7400.87624000013,-7318.60467999876,-7314.61169999838,-7384.6126000002,-7339.07042005211,-7367.55511999875,-7317.45675999895,-7343.5196658507,-7396.51881999969,-7316.53762955889,-7314.57562000081,-7341.7558799997,-7402.71277999952,-7316.75219937339,-7319.91551999897,-7322.40600000024,-7318.01352000013,-7335.84819999933,-7326.29864000008,-7313.50034000054,-7319.14563999996,-7335.15536000058,-7337.25835999921,-7404.99944000095,-7359.77638529912,-7323.55065394565,-7325.71308949515,-7311.23142155707,-7347.53083517924,-7306.2473311834,-7371.70979493037,-7365.58997999951,-7320.36488000005,-7311.69979182035,-7317.67818764299,-7314.72210239321,-7319.18606000021,-7312.97961441129,-7311.1959215574,-7303.1752025716,-7311.80249999985,-7369.79513599053,-7364.61762000024,-7342.56684000045,-7337.95280000046,-7328.51202000082,-7354.99137190282,-7354.18458053097,-7353.71110063866,-7353.71110063866,-7354.99137190282,-7351.044576969,-7353.71110063866,-7359.46735061482,-7345.0715338476,-7352.46107422486,-7345.85809865892,-7381.92633999884,-7398.67638548985,-7398.67638548985,-7401.96192000136,-7410.77807999924,-7387.40982843041,-7376.67704333141,-7376.31579174772,-7358.67341999933,-7359.45047999918,-7327.13352000043,-7315.18178000003,-7314.99178791195,-7313.5979999654],"y":[4864825.59562606,4864839.44592233,4864838.54881064,4864822.39561459,4864844.23381981,4864765.48285521,4864783.86458772,4864828.15405865,4864777.80437377,4864838.92554354,4864842.38076161,4864770.79890682,4864835.16551064,4864836.42992528,4864788.11318234,4864811.96455463,4864838.26586194,4864789.74961742,4864788.57583289,4864844.88564919,4864846.32547644,4864842.91339149,4864821.19568691,4864817.32263675,4864795.62368343,4864800.47845204,4864803.01543029,4864815.56773655,4864817.71070579,4864819.73907207,4864847.78284934,4864846.33399272,4864843.34513798,4864831.43550113,4864837.50934839,4864840.85946567,4864800.32458785,4864807.23984811,4864817.61746418,4864792.87406121,4864841.16965407,4864779.10020901,4864814.64971063,4864839.73256969,4864797.09213247,4864834.39882855,4864777.57007616,4864763.98294616,4864800.76965491,4864764.50005371,4864762.35795016,4864837.21592709,4864762.82378727,4864842.4466485,4864799.93997587,4864844.62614277,4864842.68130133,4864846.41457264,4864837.62697946,4864844.66557472,4864844.57111186,4864844.29937165,4864845.00582727,4864844.58115699,4864806.07410285,4864792.92330123,4864843.37425487,4864839.234518,4864800.73283283,4864832.29137606,4864783.85685438,4864836.99608138,4864822.40557394,4864777.61068879,4864799.00521136,4864833.389501,4864837.43073783,4864833.51936584,4864831.15141957,4864793.63331978,4864814.5225416,4864827.96744957,4864843.91380879,4864824.27972459,4864823.17949103,4864846.44777669,4864789.49936607,4864823.24976288,4864820.96396707,4864805.37169293,4864851.10812754,4864844.656926,4864810.24652679,4864768.97115864,4864852.26233782,4864812.89042203,4864833.45111533,4864833.21924867,4864815.65252737,4864785.23913878,4864807.28609434,4864824.35530433,4864828.05289368,4864836.82486771,4864817.587023,4864812.11986206,4864808.84451346,4864836.30221985,4864802.35494138,4864813.88810383,4864835.68831607,4864825.46848824,4864813.6385406,4864813.12231446,4864789.45951772,4864817.09577896,4864764.1937968,4864811.05237027,4864811.23640828,4864831.73517811,4864807.64120948,4864791.07909426,4864810.02912653,4864793.50540677,4864815.03433853,4864840.72620262,4864785.58538151,4864794.12924909,4864846.93839911,4864811.81759279,4864798.58274101,4864768.20194734,4864806.25688061,4864800.23230335,4864815.12046499,4864843.65000363,4864815.13414411,4864840.29961782,4864762.78551238,4864797.20037214,4864791.93902339,4864846.80060821,4864840.02038824,4864765.41417779,4864800.34339137,4864810.29546281,4864797.16931585,4864821.11897896,4864845.44796681,4864839.96139243,4864786.86753661,4864826.42553889,4864817.55688124,4864843.51479367,4864810.4927157,4864789.80804447,4864833.00358863,4864845.9542581,4864809.29132187,4864836.05561121,4864796.49144742,4864793.57966563,4864839.69271466,4864802.66435024,4864802.68423016,4864785.02629697,4864800.55107901,4864791.89575016,4864790.08501647,4864792.69265451,4864778.04291561,4864779.59338434,4864823.61698114,4864765.13285007,4864837.50874391,4864768.97188479,4864794.9277886,4864810.70236321,4864840.66969364,4864849.40807954,4864793.14380002,4864791.00634203,4864768.77557228,4864846.61498276,4864846.50110602,4864810.70236321,4864778.53283739,4864766.88378382,4864845.3374195,4864821.98649314,4864797.11667737,4864785.77965944,4864788.42089466,4864788.091372,4864795.63730513,4864791.41778133,4864834.04413225,4864790.64255391,4864802.09824788,4864795.71720017,4864828.61042158,4864829.36293202,4864786.30412173,4864814.35123401,4864822.73526312,4864787.01051993,4864799.33807329,4864796.89780619,4864777.00416885,4864786.74248298,4864814.66061786,4864821.49364248,4864818.0963648,4864815.75796529,4864771.76318885,4864819.8929405,4864811.08473428,4864821.68922776,4864831.19105264,4864780.37978879,4864822.67625274,4864837.47268107,4864833.39743099,4864797.50222155,4864808.7366246,4864836.10845996,4864810.37366575,4864836.0182697,4864846.43897062,4864812.31013891,4864801.53388039,4864789.31213979,4864812.81791605,4864812.2601178,4864797.47063761,4864801.52610438,4864810.44559239,4864813.05690036,4864801.82659325,4864834.37195397,4864818.48263815,4864818.67208707,4864817.31215418,4864765.021144,4864756.04538331,4864755.53005373,4864761.72051976,4864753.11692601,4864754.00533602,4864757.16756118,4864763.05654262,4864778.61766186,4864770.25695085,4864791.23255948,4864784.2565509,4864787.71849383,4864787.93664953,4864791.72695576,4864791.3752721,4864839.62484946,4864849.93286911,4864851.26803824,4864838.17710387,4864836.77555212,4864830.23792099,4864810.45357258,4864799.17439528,4864793.66016377],"z":["4","4","4","2","3","3","3","0","3","0","0","2","0","1","4","1","1","4","4","1","1","3","3","3","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","1","3","2","1","2","2","1","3","1","1","3","1","3","3","1","1","3","4","1","1","1","1","1","3","2","1","1","4","1","3","1","4","3","3","1","1","1","1","3","4","1","1","1","1","1","3","1","1","3","1","1","1","3","1","1","1","4","1","3","1","1","1","4","3","1","1","4","3","1","1","4","1","1","3","1","3","0","4","2","1","1","4","2","1","2","0","1","2","2","1","3","2","1","2","2","2","2","0","1","1","2","2","3","1","4","1","2","2","2","0","3","2","2","2","1","3","2","2","3","1","1","3","1","1","4","1","2","3","4","3","2","0","2","3","3","4","2","0","1","3","3","3","1","1","2","2","3","1","0","2","4","4","2","1","4","1","4","1","0","4","1","1","1","1","4","0","0","1","4","1","1","0","0","1","0","1","0","0","1","1","0","1","1","1","0","1","0","1","1","1","2","1","1","1","1","1","1","3","4","4","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"chartreuse","size":3,"line":{"color":"rgba(255,127,14,1)"}},"name":"Predicted","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="floor-prediction-analysis" class="section level3">
<h3>Floor prediction analysis</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">real.pred.values<span class="op">$</span>WHERE_SHOULD_BE =<span class="st"> &quot;None&quot;</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(real.pred.values)) {
  <span class="cf">if</span> (real.pred.values[i,<span class="st">&quot;real_FLOOR&quot;</span>] <span class="op">!=</span><span class="st"> </span>real.pred.values[i,<span class="st">&quot;pred_FLOOR&quot;</span>]) {
    real.pred.values[i,<span class="st">&quot;WHERE_SHOULD_BE&quot;</span>] =<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Should be floor&quot;</span>, real.pred.values[i, <span class="st">&quot;real_FLOOR&quot;</span>])
  } <span class="cf">else</span> <span class="cf">if</span> (real.pred.values[i,<span class="st">&quot;real_FLOOR&quot;</span>] <span class="op">==</span><span class="st"> </span>real.pred.values[i,<span class="st">&quot;pred_FLOOR&quot;</span>]) {
    real.pred.values[i,<span class="st">&quot;WHERE_SHOULD_BE&quot;</span>] =<span class="st"> &quot;Good Prediction&quot;</span>
  }
}

real.pred.values<span class="op">$</span>WHERE_SHOULD_BE =<span class="st"> </span><span class="kw">factor</span>(real.pred.values<span class="op">$</span>WHERE_SHOULD_BE)
<span class="kw">summary</span>(real.pred.values<span class="op">$</span>WHERE_SHOULD_BE)</code></pre></div>
<pre><code>##   Good Prediction Should be floor 0 Should be floor 1 Should be floor 2 
##               228                 2                 5                21 
## Should be floor 3 Should be floor 4 
##                 1                11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_ly</span>(real.pred.values) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_markers</span>(<span class="dt">x =</span> <span class="op">~</span>pred_LONGITUDE, <span class="dt">y =</span> <span class="op">~</span>pred_LATITUDE, <span class="dt">z =</span> <span class="op">~</span>pred_FLOOR, <span class="dt">color =</span> <span class="op">~</span>WHERE_SHOULD_BE, <span class="dt">marker =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">5</span>)) <span class="op">%&gt;%</span>
<span class="st">                </span><span class="kw">layout</span>(<span class="dt">title =</span> <span class="st">&quot;Which floor should each capture be in?&quot;</span>)</code></pre></div>
<div id="htmlwidget-5ac5b38811eba2c8f2ce" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5ac5b38811eba2c8f2ce">{"x":{"visdat":{"30a02c806458":["function () ","plotlyVisDat"]},"cur_data":"30a02c806458","attrs":{"30a02c806458":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","color":{},"marker":{"size":5},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Which floor should each capture be in?","scene":{"xaxis":{"title":"pred_LONGITUDE"},"yaxis":{"title":"pred_LATITUDE"},"zaxis":{"title":"pred_FLOOR"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[-7382.45447999984,-7374.9241249755,-7364.61762000024,-7321.93341999948,-7367.65755999982,-7354.3438000001,-7329.40370000154,-7367.78727999926,-7372.40137999952,-7349.72151999995,-7386.18781318292,-7345.20844616145,-7412.07821999937,-7366.78427999914,-7350.74338732809,-7411.94318000078,-7403.87939999923,-7367.21551999971,-7383.23202000037,-7368.91640000045,-7334.28421999961,-7318.21026000008,-7308.53124500811,-7311.30691202804,-7313.59755999967,-7314.58076239377,-7316.20788956061,-7333.35295420066,-7372.81640091389,-7375.60156000033,-7387.18224000111,-7379.13312000036,-7387.7532600008,-7364.49909593463,-7407.54045524225,-7357.21291999891,-7366.1128200002,-7369.75860000104,-7379.63584000021,-7360.81516739205,-7368.11508376598,-7345.42330000177,-7347.02534441128,-7346.18604024425,-7349.70820000023,-7349.4400433518,-7330.76124000028,-7341.59864105955,-7360.40277999938,-7383.40562000126,-7382.77210000083,-7378.34157999977,-7378.43981999978,-7373.57298182845,-7372.90291999951,-7376.14958491474,-7373.63068000004,-7372.96975999996,-7398.35066,-7353.36609999984,-7363.90931999981,-7351.22767999992,-7328.05707186684,-7350.40314000025,-7350.95581187159,-7351.23060000017,-7348.90736000016,-7390.35906000063,-7345.2340200007,-7340.6695600003,-7351.23060000017,-7346.30322249755,-7385.67620000094,-7331.29399999976,-7343.27577999979,-7374.05958000049,-7326.97391236797,-7333.02655078918,-7375.10930333138,-7369.66344000101,-7377.07650999352,-7319.79763999954,-7350.52804585174,-7380.31699999943,-7313.62124239281,-7316.62625349089,-7331.05127999932,-7390.71188000143,-7380.31699999943,-7314.63199337274,-7314.29871576652,-7366.09589999914,-7307.55240838379,-7383.65118807778,-7340.35970000029,-7324.75683999956,-7311.27054155767,-7314.28841999993,-7391.15917999893,-7313.4893599987,-7369.27203999981,-7305.57751075849,-7320.94665445313,-7327.37977999896,-7406.34131999984,-7309.29597034678,-7368.57759999931,-7342.94944000021,-7373.96358000115,-7313.75493778363,-7313.85739168003,-7362.37053999975,-7315.50692000017,-7313.51756557822,-7375.39241999984,-7319.72839999944,-7369.14459999949,-7348.36719109639,-7316.40557999983,-7320.28918469995,-7373.95558000058,-7371.35763999969,-7316.30538764372,-7314.38517992944,-7328.43965337276,-7372.82771412134,-7356.19233999997,-7356.17496000007,-7326.57396000028,-7316.65828000009,-7371.06622000039,-7336.46213999987,-7378.08614000007,-7338.44226000085,-7375.41737999991,-7347.33615999967,-7309.35127794817,-7317.52330000028,-7361.18987999856,-7340.04440000057,-7397.5720415391,-7345.95684339032,-7380.49632549435,-7340.96901905537,-7325.8555399999,-7342.86907999963,-7352.93215686083,-7393.98808428422,-7322.3850103721,-7363.4107599996,-7379.4397318013,-7375.59110000059,-7368.33354091346,-7322.3850103721,-7352.1050999999,-7380.90230000094,-7352.66476894543,-7348.26110359579,-7393.84482000023,-7393.38258274496,-7315.10064828694,-7316.31460000128,-7411.31535999998,-7350.10656000003,-7400.87624000013,-7318.60467999876,-7314.61169999838,-7384.6126000002,-7339.07042005211,-7367.55511999875,-7317.45675999895,-7343.5196658507,-7396.51881999969,-7316.53762955889,-7314.57562000081,-7341.7558799997,-7402.71277999952,-7316.75219937339,-7322.40600000024,-7318.01352000013,-7335.84819999933,-7326.29864000008,-7313.50034000054,-7319.14563999996,-7335.15536000058,-7337.25835999921,-7404.99944000095,-7359.77638529912,-7325.71308949515,-7311.23142155707,-7347.53083517924,-7306.2473311834,-7371.70979493037,-7365.58997999951,-7320.36488000005,-7311.69979182035,-7314.72210239321,-7319.18606000021,-7312.97961441129,-7311.1959215574,-7303.1752025716,-7311.80249999985,-7364.61762000024,-7342.56684000045,-7354.18458053097,-7353.71110063866,-7353.71110063866,-7354.99137190282,-7351.044576969,-7353.71110063866,-7359.46735061482,-7345.0715338476,-7352.46107422486,-7345.85809865892,-7381.92633999884,-7398.67638548985,-7398.67638548985,-7401.96192000136,-7410.77807999924,-7387.40982843041,-7376.67704333141,-7376.31579174772,-7358.67341999933,-7359.45047999918,-7327.13352000043,-7315.18178000003,-7314.99178791195,-7313.5979999654],"y":[4864825.59562606,4864839.44592233,4864838.54881064,4864822.39561459,4864844.23381981,4864765.48285521,4864828.15405865,4864838.92554354,4864842.38076161,4864770.79890682,4864835.16551064,4864836.42992528,4864788.11318234,4864811.96455463,4864838.26586194,4864789.74961742,4864788.57583289,4864844.88564919,4864846.32547644,4864842.91339149,4864821.19568691,4864817.32263675,4864795.62368343,4864800.47845204,4864803.01543029,4864815.56773655,4864817.71070579,4864819.73907207,4864847.78284934,4864846.33399272,4864843.34513798,4864831.43550113,4864837.50934839,4864840.85946567,4864800.32458785,4864807.23984811,4864792.87406121,4864841.16965407,4864779.10020901,4864839.73256969,4864797.09213247,4864834.39882855,4864763.98294616,4864800.76965491,4864764.50005371,4864762.35795016,4864837.21592709,4864762.82378727,4864842.4466485,4864844.62614277,4864842.68130133,4864846.41457264,4864837.62697946,4864844.66557472,4864844.57111186,4864844.29937165,4864845.00582727,4864844.58115699,4864806.07410285,4864792.92330123,4864843.37425487,4864839.234518,4864800.73283283,4864832.29137606,4864836.99608138,4864822.40557394,4864833.389501,4864837.43073783,4864833.51936584,4864831.15141957,4864814.5225416,4864827.96744957,4864843.91380879,4864824.27972459,4864823.17949103,4864846.44777669,4864823.24976288,4864820.96396707,4864851.10812754,4864844.656926,4864852.26233782,4864812.89042203,4864833.45111533,4864833.21924867,4864815.65252737,4864807.28609434,4864824.35530433,4864828.05289368,4864836.82486771,4864812.11986206,4864808.84451346,4864836.30221985,4864813.88810383,4864835.68831607,4864825.46848824,4864813.6385406,4864813.12231446,4864817.09577896,4864811.05237027,4864811.23640828,4864831.73517811,4864807.64120948,4864791.07909426,4864810.02912653,4864793.50540677,4864815.03433853,4864840.72620262,4864785.58538151,4864846.93839911,4864811.81759279,4864798.58274101,4864806.25688061,4864800.23230335,4864815.12046499,4864843.65000363,4864815.13414411,4864840.29961782,4864762.78551238,4864797.20037214,4864791.93902339,4864846.80060821,4864840.02038824,4864800.34339137,4864797.16931585,4864821.11897896,4864845.44796681,4864839.96139243,4864786.86753661,4864826.42553889,4864817.55688124,4864843.51479367,4864810.4927157,4864789.80804447,4864833.00358863,4864845.9542581,4864836.05561121,4864796.49144742,4864793.57966563,4864839.69271466,4864802.68423016,4864785.02629697,4864791.89575016,4864792.69265451,4864779.59338434,4864823.61698114,4864765.13285007,4864768.97188479,4864794.9277886,4864810.70236321,4864840.66969364,4864849.40807954,4864846.61498276,4864846.50110602,4864810.70236321,4864778.53283739,4864845.3374195,4864821.98649314,4864797.11667737,4864785.77965944,4864788.42089466,4864788.091372,4864795.63730513,4864791.41778133,4864834.04413225,4864790.64255391,4864802.09824788,4864795.71720017,4864828.61042158,4864829.36293202,4864786.30412173,4864814.35123401,4864822.73526312,4864787.01051993,4864799.33807329,4864796.89780619,4864777.00416885,4864786.74248298,4864814.66061786,4864818.0963648,4864815.75796529,4864771.76318885,4864819.8929405,4864811.08473428,4864821.68922776,4864831.19105264,4864780.37978879,4864822.67625274,4864837.47268107,4864797.50222155,4864808.7366246,4864836.10845996,4864810.37366575,4864836.0182697,4864846.43897062,4864812.31013891,4864801.53388039,4864812.81791605,4864812.2601178,4864797.47063761,4864801.52610438,4864810.44559239,4864813.05690036,4864834.37195397,4864818.48263815,4864756.04538331,4864755.53005373,4864761.72051976,4864753.11692601,4864754.00533602,4864757.16756118,4864763.05654262,4864778.61766186,4864770.25695085,4864791.23255948,4864784.2565509,4864787.71849383,4864787.93664953,4864791.72695576,4864791.3752721,4864839.62484946,4864849.93286911,4864851.26803824,4864838.17710387,4864836.77555212,4864830.23792099,4864810.45357258,4864799.17439528,4864793.66016377],"z":["4","4","4","2","3","3","0","0","0","2","0","1","4","1","1","4","4","1","1","3","3","3","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","1","2","1","3","1","1","3","1","3","1","1","3","4","1","1","1","1","1","3","2","1","1","4","1","1","4","1","1","1","1","4","1","1","1","1","1","1","1","1","1","1","1","1","4","1","1","1","1","4","1","1","4","1","1","4","1","1","1","0","4","2","1","1","4","2","1","2","0","2","2","1","2","1","2","2","2","2","0","1","1","2","2","1","1","2","2","2","0","3","2","2","2","1","3","2","3","1","1","3","1","4","2","4","2","0","2","3","4","2","0","1","1","1","2","2","1","0","2","4","4","2","1","4","1","4","1","0","4","1","1","1","1","4","0","0","1","4","1","0","0","1","0","1","0","0","1","1","0","1","1","0","1","0","1","1","1","1","1","1","1","1","1","4","4","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(102,194,165,1)","size":5,"line":{"color":"rgba(102,194,165,1)"}},"name":"Good Prediction","textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"frame":null},{"x":[-7319.91551999897,-7323.55065394565],"y":[4864821.49364248,4864833.39743099],"z":["1","1"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(252,141,98,1)","size":5,"line":{"color":"rgba(252,141,98,1)"}},"name":"Should be floor 0","textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"frame":null},{"x":[-7357.59821999967,-7346.18259999901,-7346.69842024446,-7335.10003474727,-7317.67818764299],"y":[4864817.61746418,4864814.64971063,4864777.57007616,4864809.29132187,4864789.31213979],"z":["2","3","2","2","2"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(141,160,203,1)","size":5,"line":{"color":"rgba(141,160,203,1)"}},"name":"Should be floor 1","textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"frame":null},{"x":[-7370.6826000005,-7356.7320600003,-7353.55780403242,-7352.92519137263,-7356.41938000023,-7380.43802497685,-7349.71762000024,-7351.68899999931,-7354.66408000067,-7373.62776000053,-7356.87016000003,-7383.15027012154,-7388.48628549799,-7385.51030000001,-7355.80411999896,-7386.20201999918,-7396.24568307772,-7351.85688000023,-7360.28302953839,-7341.82115999982,-7352.33655999973],"y":[4864783.86458772,4864777.80437377,4864799.93997587,4864783.85685438,4864777.61068879,4864799.00521136,4864793.63331978,4864789.49936607,4864768.97115864,4864785.23913878,4864817.587023,4864802.35494138,4864789.45951772,4864794.12924909,4864802.66435024,4864800.55107901,4864790.08501647,4864778.04291561,4864837.50874391,4864793.14380002,4864791.00634203],"z":["3","3","3","3","3","3","3","3","3","3","3","3","3","1","1","1","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(231,138,195,1)","size":5,"line":{"color":"rgba(231,138,195,1)"}},"name":"Should be floor 2","textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"frame":null},{"x":[-7327.37977999896],"y":[4864810.29546281],"z":["4"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(166,216,84,1)","size":5,"line":{"color":"rgba(166,216,84,1)"}},"name":"Should be floor 3","textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"frame":null},{"x":[-7335.30340000018,-7408.94172331914,-7353.42108304873,-7407.99807363302,-7369.74162772074,-7354.99137190282,-7364.63844641447,-7369.79513599053,-7337.95280000046,-7328.51202000082,-7354.99137190282],"y":[4864805.37169293,4864810.24652679,4864764.1937968,4864768.20194734,4864765.41417779,4864768.77557228,4864766.88378382,4864801.82659325,4864818.67208707,4864817.31215418,4864765.021144],"z":["3","1","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(255,217,47,1)","size":5,"line":{"color":"rgba(255,217,47,1)"}},"name":"Should be floor 4","textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<div id="summary-for-lat-long" class="section level4">
<h4>Summary for LAT  LONG</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(real.pred.values<span class="op">$</span>long_diff)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0145  2.9714  6.5715 10.7214 13.7892 80.7187</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(real.pred.values<span class="op">$</span>lat_diff)</code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##  0.01034  2.00506  4.95581  7.67936  9.36141 43.50574</code></pre>
</div>
</div>
<div id="traffic-light-for-latitude-longitude---error-distance-analysis" class="section level3">
<h3>Traffic light for Latitude &amp; Longitude - Error distance analysis</h3>
</div>
<div id="good-idea-joe" class="section level3">
<h3>Good idea, Joe :]</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">real.pred.values<span class="op">$</span>PREDICTION =<span class="st"> &quot;None&quot;</span>


<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(real.pred.values)) {
  <span class="cf">if</span> (real.pred.values[i,<span class="st">&quot;long_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span>real.pred.values[i,<span class="st">&quot;lat_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">8</span>) {
    real.pred.values[i,<span class="st">&quot;PREDICTION&quot;</span>] =<span class="st"> &quot;Awesome! :D&quot;</span>
  } <span class="cf">else</span> <span class="cf">if</span> (real.pred.values[i,<span class="st">&quot;long_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">20</span> <span class="op">&amp;</span><span class="st"> </span>real.pred.values[i,<span class="st">&quot;lat_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">20</span>) {
    real.pred.values[i,<span class="st">&quot;PREDICTION&quot;</span>] =<span class="st"> &quot;Meh :|&quot;</span>
  } <span class="cf">else</span> <span class="cf">if</span> (real.pred.values[i,<span class="st">&quot;long_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">50</span> <span class="op">&amp;</span><span class="st"> </span>real.pred.values[i,<span class="st">&quot;lat_diff&quot;</span>] <span class="op">&lt;=</span><span class="st"> </span><span class="dv">50</span>) {
    real.pred.values[i,<span class="st">&quot;PREDICTION&quot;</span>] =<span class="st"> &quot;Awfull :(&quot;</span>
  } <span class="cf">else</span> {
    real.pred.values[i,<span class="st">&quot;PREDICTION&quot;</span>] =<span class="st"> &quot;Weird :S&quot;</span>
  }
}

real.pred.values<span class="op">$</span>PREDICTION =<span class="st"> </span><span class="kw">as.factor</span>(<span class="dt">x =</span> real.pred.values<span class="op">$</span>PREDICTION)
<span class="kw">summary</span>(real.pred.values<span class="op">$</span>PREDICTION)</code></pre></div>
<pre><code>## Awesome! :D   Awfull :(      Meh :|    Weird :S 
##         125          58          82           3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_ly</span>(real.pred.values) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_markers</span>(<span class="dt">x =</span> <span class="op">~</span>pred_LONGITUDE, <span class="dt">y =</span> <span class="op">~</span>pred_LATITUDE, <span class="dt">z =</span> <span class="op">~</span>pred_FLOOR, <span class="dt">color =</span> <span class="op">~</span>PREDICTION, <span class="dt">colors =</span> <span class="kw">c</span>(<span class="st">&quot;chartreuse&quot;</span>, <span class="st">&quot;firebrick1&quot;</span>, <span class="st">&quot;yellow1&quot;</span>, <span class="st">&quot;purple&quot;</span>), <span class="dt">marker =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">5</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">layout</span>(<span class="dt">title =</span> <span class="st">&quot;Distance analysis&quot;</span>)</code></pre></div>
<div id="htmlwidget-db2b549084d3322a1bf2" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-db2b549084d3322a1bf2">{"x":{"visdat":{"30a0e89bc5":["function () ","plotlyVisDat"]},"cur_data":"30a0e89bc5","attrs":{"30a0e89bc5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","color":{},"colors":["chartreuse","firebrick1","yellow1","purple"],"marker":{"size":5},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Distance analysis","scene":{"xaxis":{"title":"pred_LONGITUDE"},"yaxis":{"title":"pred_LATITUDE"},"zaxis":{"title":"pred_FLOOR"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[-7374.9241249755,-7364.61762000024,-7367.78727999926,-7372.40137999952,-7386.18781318292,-7412.07821999937,-7350.74338732809,-7411.94318000078,-7368.91640000045,-7334.28421999961,-7318.21026000008,-7308.53124500811,-7311.30691202804,-7313.59755999967,-7314.58076239377,-7333.35295420066,-7372.81640091389,-7375.60156000033,-7387.18224000111,-7379.13312000036,-7387.7532600008,-7345.42330000177,-7347.02534441128,-7341.59864105955,-7383.40562000126,-7382.77210000083,-7378.34157999977,-7372.90291999951,-7376.14958491474,-7373.63068000004,-7372.96975999996,-7363.90931999981,-7350.40314000025,-7350.95581187159,-7348.90736000016,-7390.35906000063,-7345.2340200007,-7340.6695600003,-7346.30322249755,-7385.67620000094,-7331.29399999976,-7374.05958000049,-7326.97391236797,-7333.02655078918,-7375.10930333138,-7377.07650999352,-7319.79763999954,-7350.52804585174,-7313.62124239281,-7316.62625349089,-7331.05127999932,-7390.71188000143,-7314.63199337274,-7314.29871576652,-7307.55240838379,-7383.65118807778,-7311.27054155767,-7388.48628549799,-7305.57751075849,-7320.94665445313,-7406.34131999984,-7373.96358000115,-7313.85739168003,-7315.50692000017,-7313.51756557822,-7375.39241999984,-7319.72839999944,-7348.36719109639,-7316.40557999983,-7373.95558000058,-7316.30538764372,-7314.38517992944,-7328.43965337276,-7372.82771412134,-7356.19233999997,-7326.57396000028,-7316.65828000009,-7371.06622000039,-7338.44226000085,-7309.35127794817,-7317.52330000028,-7325.8555399999,-7342.86907999963,-7363.4107599996,-7379.4397318013,-7354.99137190282,-7375.59110000059,-7368.33354091346,-7364.63844641447,-7316.31460000128,-7350.10656000003,-7314.61169999838,-7339.07042005211,-7317.45675999895,-7316.53762955889,-7314.57562000081,-7402.71277999952,-7316.75219937339,-7322.40600000024,-7318.01352000013,-7326.29864000008,-7313.50034000054,-7359.77638529912,-7311.23142155707,-7347.53083517924,-7306.2473311834,-7311.69979182035,-7314.72210239321,-7312.97961441129,-7303.1752025716,-7311.80249999985,-7351.044576969,-7353.71110063866,-7359.46735061482,-7398.67638548985,-7398.67638548985,-7387.40982843041,-7376.67704333141,-7376.31579174772,-7358.67341999933,-7359.45047999918,-7327.13352000043,-7315.18178000003,-7314.99178791195,-7313.5979999654],"y":[4864839.44592233,4864838.54881064,4864838.92554354,4864842.38076161,4864835.16551064,4864788.11318234,4864838.26586194,4864789.74961742,4864842.91339149,4864821.19568691,4864817.32263675,4864795.62368343,4864800.47845204,4864803.01543029,4864815.56773655,4864819.73907207,4864847.78284934,4864846.33399272,4864843.34513798,4864831.43550113,4864837.50934839,4864834.39882855,4864763.98294616,4864762.82378727,4864844.62614277,4864842.68130133,4864846.41457264,4864844.57111186,4864844.29937165,4864845.00582727,4864844.58115699,4864843.37425487,4864832.29137606,4864836.99608138,4864833.389501,4864837.43073783,4864833.51936584,4864831.15141957,4864827.96744957,4864843.91380879,4864824.27972459,4864846.44777669,4864823.24976288,4864820.96396707,4864851.10812754,4864852.26233782,4864812.89042203,4864833.45111533,4864815.65252737,4864807.28609434,4864824.35530433,4864828.05289368,4864812.11986206,4864808.84451346,4864813.88810383,4864835.68831607,4864813.12231446,4864789.45951772,4864807.64120948,4864791.07909426,4864793.50540677,4864846.93839911,4864798.58274101,4864800.23230335,4864815.12046499,4864843.65000363,4864815.13414411,4864762.78551238,4864797.20037214,4864846.80060821,4864800.34339137,4864797.16931585,4864821.11897896,4864845.44796681,4864839.96139243,4864826.42553889,4864817.55688124,4864843.51479367,4864833.00358863,4864796.49144742,4864793.57966563,4864823.61698114,4864765.13285007,4864840.66969364,4864849.40807954,4864768.77557228,4864846.61498276,4864846.50110602,4864766.88378382,4864795.63730513,4864834.04413225,4864795.71720017,4864829.36293202,4864814.35123401,4864799.33807329,4864796.89780619,4864786.74248298,4864814.66061786,4864818.0963648,4864815.75796529,4864819.8929405,4864811.08473428,4864837.47268107,4864808.7366246,4864836.10845996,4864810.37366575,4864801.53388039,4864812.81791605,4864797.47063761,4864810.44559239,4864813.05690036,4864754.00533602,4864757.16756118,4864763.05654262,4864787.71849383,4864787.93664953,4864839.62484946,4864849.93286911,4864851.26803824,4864838.17710387,4864836.77555212,4864830.23792099,4864810.45357258,4864799.17439528,4864793.66016377],"z":["4","4","0","0","0","4","1","4","3","3","3","1","1","1","1","1","1","1","1","1","1","2","1","1","1","1","3","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","3","1","1","2","2","1","1","2","2","2","0","1","2","1","1","2","2","2","3","2","2","3","1","1","0","2","0","1","3","1","1","3","1","1","0","1","1","0","0","4","1","0","0","0","1","0","1","0","1","1","1","1","1","1","3","3","3","3","3","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(127,255,0,1)","size":5,"line":{"color":"rgba(127,255,0,1)"}},"name":"Awesome! :D","textfont":{"color":"rgba(127,255,0,1)"},"error_y":{"color":"rgba(127,255,0,1)"},"error_x":{"color":"rgba(127,255,0,1)"},"line":{"color":"rgba(127,255,0,1)"},"frame":null},{"x":[-7356.7320600003,-7345.20844616145,-7366.78427999914,-7403.87939999923,-7364.49909593463,-7357.21291999891,-7357.59821999967,-7366.1128200002,-7346.18259999901,-7360.81516739205,-7368.11508376598,-7346.18604024425,-7330.76124000028,-7353.55780403242,-7353.36609999984,-7328.05707186684,-7352.92519137263,-7351.23060000017,-7356.41938000023,-7380.43802497685,-7349.71762000024,-7351.23060000017,-7351.68899999931,-7408.94172331914,-7354.66408000067,-7380.31699999943,-7356.87016000003,-7366.09589999914,-7383.15027012154,-7391.15917999893,-7369.27203999981,-7342.94944000021,-7385.51030000001,-7362.37053999975,-7371.35763999969,-7356.17496000007,-7378.08614000007,-7335.10003474727,-7361.18987999856,-7340.04440000057,-7345.95684339032,-7351.85688000023,-7340.96901905537,-7360.28302953839,-7322.3850103721,-7341.82115999982,-7352.33655999973,-7352.1050999999,-7352.66476894543,-7348.26110359579,-7367.55511999875,-7341.7558799997,-7319.91551999897,-7404.99944000095,-7323.55065394565,-7369.79513599053,-7345.85809865892,-7381.92633999884],"y":[4864777.80437377,4864836.42992528,4864811.96455463,4864788.57583289,4864840.85946567,4864807.23984811,4864817.61746418,4864792.87406121,4864814.64971063,4864839.73256969,4864797.09213247,4864800.76965491,4864837.21592709,4864799.93997587,4864792.92330123,4864800.73283283,4864783.85685438,4864822.40557394,4864777.61068879,4864799.00521136,4864793.63331978,4864814.5225416,4864789.49936607,4864810.24652679,4864768.97115864,4864836.82486771,4864817.587023,4864836.30221985,4864802.35494138,4864811.05237027,4864831.73517811,4864785.58538151,4864794.12924909,4864806.25688061,4864840.02038824,4864786.86753661,4864789.80804447,4864809.29132187,4864839.69271466,4864802.68423016,4864791.89575016,4864778.04291561,4864779.59338434,4864837.50874391,4864810.70236321,4864793.14380002,4864791.00634203,4864778.53283739,4864821.98649314,4864797.11667737,4864786.30412173,4864777.00416885,4864821.49364248,4864822.67625274,4864833.39743099,4864801.82659325,4864791.23255948,4864784.2565509],"z":["3","1","1","4","1","1","2","1","3","2","1","3","3","3","2","4","3","4","3","3","3","4","3","1","3","4","3","4","3","0","2","0","1","2","2","0","1","2","3","1","2","3","2","3","2","3","3","2","0","2","1","1","1","1","1","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(255,48,48,1)","size":5,"line":{"color":"rgba(255,48,48,1)"}},"name":"Awfull :(","textfont":{"color":"rgba(255,48,48,1)"},"error_y":{"color":"rgba(255,48,48,1)"},"error_x":{"color":"rgba(255,48,48,1)"},"line":{"color":"rgba(255,48,48,1)"},"frame":null},{"x":[-7382.45447999984,-7321.93341999948,-7367.65755999982,-7354.3438000001,-7370.6826000005,-7329.40370000154,-7349.72151999995,-7367.21551999971,-7383.23202000037,-7316.20788956061,-7407.54045524225,-7369.75860000104,-7379.63584000021,-7346.69842024446,-7349.70820000023,-7349.4400433518,-7360.40277999938,-7378.43981999978,-7373.57298182845,-7398.35066,-7351.22767999992,-7343.27577999979,-7335.30340000018,-7369.66344000101,-7380.31699999943,-7373.62776000053,-7340.35970000029,-7324.75683999956,-7314.28841999993,-7353.42108304873,-7313.4893599987,-7327.37977999896,-7309.29597034678,-7368.57759999931,-7313.75493778363,-7369.14459999949,-7320.28918469995,-7369.74162772074,-7327.37977999896,-7336.46213999987,-7375.41737999991,-7347.33615999967,-7397.5720415391,-7386.20201999918,-7396.24568307772,-7380.49632549435,-7352.93215686083,-7393.98808428422,-7322.3850103721,-7380.90230000094,-7393.84482000023,-7393.38258274496,-7315.10064828694,-7411.31535999998,-7400.87624000013,-7318.60467999876,-7384.6126000002,-7343.5196658507,-7396.51881999969,-7335.84819999933,-7319.14563999996,-7335.15536000058,-7337.25835999921,-7325.71308949515,-7371.70979493037,-7365.58997999951,-7320.36488000005,-7319.18606000021,-7311.1959215574,-7364.61762000024,-7342.56684000045,-7337.95280000046,-7328.51202000082,-7354.99137190282,-7354.18458053097,-7353.71110063866,-7353.71110063866,-7354.99137190282,-7345.0715338476,-7352.46107422486,-7401.96192000136,-7410.77807999924],"y":[4864825.59562606,4864822.39561459,4864844.23381981,4864765.48285521,4864783.86458772,4864828.15405865,4864770.79890682,4864844.88564919,4864846.32547644,4864817.71070579,4864800.32458785,4864841.16965407,4864779.10020901,4864777.57007616,4864764.50005371,4864762.35795016,4864842.4466485,4864837.62697946,4864844.66557472,4864806.07410285,4864839.234518,4864823.17949103,4864805.37169293,4864844.656926,4864833.21924867,4864785.23913878,4864825.46848824,4864813.6385406,4864817.09577896,4864764.1937968,4864811.23640828,4864810.02912653,4864815.03433853,4864840.72620262,4864811.81759279,4864840.29961782,4864791.93902339,4864765.41417779,4864810.29546281,4864810.4927157,4864845.9542581,4864836.05561121,4864785.02629697,4864800.55107901,4864790.08501647,4864792.69265451,4864768.97188479,4864794.9277886,4864810.70236321,4864845.3374195,4864785.77965944,4864788.42089466,4864788.091372,4864791.41778133,4864790.64255391,4864802.09824788,4864828.61042158,4864822.73526312,4864787.01051993,4864771.76318885,4864821.68922776,4864831.19105264,4864780.37978879,4864797.50222155,4864836.0182697,4864846.43897062,4864812.31013891,4864812.2601178,4864801.52610438,4864834.37195397,4864818.48263815,4864818.67208707,4864817.31215418,4864765.021144,4864756.04538331,4864755.53005373,4864761.72051976,4864753.11692601,4864778.61766186,4864770.25695085,4864791.72695576,4864791.3752721],"z":["4","2","3","3","3","0","2","1","1","1","1","2","1","2","1","1","3","4","1","3","1","1","3","1","4","3","4","1","1","3","4","4","1","2","2","2","1","3","4","2","2","3","4","1","3","4","3","4","2","1","4","4","2","4","4","1","4","1","4","1","0","0","1","1","0","1","1","1","1","4","4","3","3","3","3","3","3","3","3","3","3","3"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(255,255,0,1)","size":5,"line":{"color":"rgba(255,255,0,1)"}},"name":"Meh :|","textfont":{"color":"rgba(255,255,0,1)"},"error_y":{"color":"rgba(255,255,0,1)"},"error_x":{"color":"rgba(255,255,0,1)"},"line":{"color":"rgba(255,255,0,1)"},"frame":null},{"x":[-7407.99807363302,-7355.80411999896,-7317.67818764299],"y":[4864768.20194734,4864802.66435024,4864789.31213979],"z":["3","1","2"],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(160,32,240,1)","size":5,"line":{"color":"rgba(160,32,240,1)"}},"name":"Weird :S","textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
</div>
</div>


</div>

<div id="postamble" data-toggle="wy-nav-shift" class="status">
<p class="author"><span class="glyphicon glyphicon-user"></span> David Gibert Bosque</p>
<p class="date"><span class="glyphicon glyphicon-calendar"></span> January 7th, 2019</p>
</div>


<script>
$(document).ready(function () {
 	 	$('#content img')
 	  .addClass("image-thumb");
      $('#content img')
 	  .addClass("image-lb");
  $('#content').magnificPopup({
	      type:'image',
	      closeOnContentClick: false,
	      delegate: 'img',
	      gallery: {enabled: true },
	      image: {
	        verticalFit: true,
          titleSrc: 'alt'
	      }
 	    });
 	});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
